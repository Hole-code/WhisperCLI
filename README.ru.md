# WhisperCLI: Audio Transcription Tool

[English](README.md) | [Русский](README.ru.md)


WhisperCLI - это мощный инструмент командной строки для транскрибации аудио и видео файлов, основанный на модели Whisper от OpenAI. Этот инструмент позволяет легко преобразовывать речь в текст с поддержкой множества языков и возможностью обработки определенных сегментов файла.

## Особенности

- Поддержка различных форматов аудио и видео файлов (MP3, MP4, WAV и др.)
- Выбор модели Whisper (tiny, base, small, medium, large)
- Транскрибация определенных временных отрезков
- Поддержка множества языков
- Тихий режим работы с опцией подробных логов
- Сохранение результатов в файл
- Простой интерфейс командной строки

## Требования

- Python 3.7+
- PyTorch
- Transformers
- Pydub
- NumPy

## Установка

1. Клонируйте репозиторий:

```
git clone https://github.com/Hole-code/WhisperCLI.git

cd WhisperCLI
```

3. Установите зависимости:

```
pip install -r requirements.txt
```

## Системная установка

Чтобы использовать WhisperCLI как системную утилиту, выполните следующие шаги:

1. Создайте файл `whispercli` со следующим содержимым:
   ```bash
   #!/bin/bash
   python3 /полный/путь/к/whisper_cli.py "$@"

```

Замените /полный/путь/к/whisper_cli.py на актуальный путь к вашему скрипту.


2. Сделайте файл исполняемым:
```
chmod +x whispercli
```

3. Переместите файл в директорию, которая находится в системном PATH:
```
sudo mv whispercli /usr/local/bin/
```
4. Теперь вы можете запускать утилиту из любой директории, просто набрав whispercli:

```
whispercli -n путь/к/аудио_файлу.mp3
```

Примечание: Убедитесь, что у вас есть права администратора для создания символической ссылки в системной директории.

## Использование

Базовое использование:

```
whispercli -n путь/к/вашему/аудио_файлу.mp3
```

### Параметры

- `-n`, `--name`: Путь к аудио файлу (обязательный параметр)
- `-s`, `--start`: Начальное время для транскрипции (формат: SS, MM:SS, или HH:MM:SS)
- `-e`, `--end`: Конечное время для транскрипции (формат: SS, MM:SS, или HH:MM:SS)
- `-l`, `--language`: Ожидаемый язык аудио (например, 'ru' для русского)
- `-m`, `--model`: Размер модели Whisper (tiny, base, small, medium, large)
- `-o`, `--output`: Имя выходного файла для сохранения транскрипции
- `-v`, `--verbose`: Выводить подробные логи

### Примеры

1. Транскрибировать весь файл:
```
whispercli -n audio.mp3
```

2. Транскрибировать определенный отрезок:

```
whispercli -n video.mp4 -s 5:30 -e 10:00
```

3. Указать язык и модель:
```
whispercli -n audio.wav -l ru -m medium
```

4. Сохранить результат в файл:

```
whispercli -n audio.mp3 -o transcription.txt
```

5. Использовать все опции с подробными логами:

```
whispercli -n long_video.mp4 -s 1:00:00 -e 1:30:00 -l en -m large -o result.txt -v
```

## Примечания

- Для работы с MP3 файлами может потребоваться установка ffmpeg.
- Большие модели Whisper могут требовать значительных вычислительных ресурсов.
- При первом запуске скрипт загрузит выбранную модель Whisper, что может занять некоторое время.

## Вклад в проект

Мы приветствуем вклад в развитие проекта! Если у вас есть идеи по улучшению или вы нашли ошибку, пожалуйста, создайте issue или отправьте pull request.

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности можно найти в файле [LICENSE](LICENSE).

## Благодарности

- OpenAI за создание модели Whisper
- Разработчикам библиотек PyTorch, Transformers и Pydub
